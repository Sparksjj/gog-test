import{a as Y,b as W,c as k,d as z}from"./chunk-NVHTPBOJ.js";import{$a as P,Aa as G,Da as a,Db as M,Ga as H,Ha as u,M as x,Na as s,P as F,Pa as B,Qa as b,S as l,Sa as A,Ta as L,Ua as r,Va as o,Wa as d,Xa as $,Ya as N,Z as j,Za as R,_ as E,_a as v,ab as w,bb as V,cb as K,db as p,eb as _,fb as U,hb as O,ia as C,ib as q,ja as D,jb as g,kb as h,m as y,sb as Q,va as m}from"./chunk-W6MYGBDL.js";var ae=["lib-hero-baner",""],ce=["*"],J=(()=>{class e{item=C.required();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["","lib-hero-baner",""]],inputs:{item:[1,"item"]},attrs:ae,ngContentSelectors:ce,decls:2,vars:4,consts:[[1,"hero-banner",3,"libPictureLoader","width","height","alt"]],template:function(t,i){t&1&&(P(),r(0,"section",0),w(1),o()),t&2&&s("libPictureLoader",i.item().imagesPath)("width",1060)("height",370)("alt",i.item().name)},dependencies:[k],styles:[".hero-banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}"],changeDetection:0})}return e})();var X={id:1,name:"The Witcher Adventure Game",prise:49.99,discount:10,isOwned:!1,imagesPath:"assets/images/witcher/img"};var S=(()=>{class e{getHeroData(){return y(X)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var se=["lib-hero",""];function me(e,c){e&1&&(r(0,"div",2)(1,"button",4),p(2," A secret button "),o()()),e&2&&s("item",c)}function pe(e,c){e&1&&d(0,"section",3)}var Z=(()=>{class e{title="Game of the week";hero$=l(S).getHeroData();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["","lib-hero",""]],features:[O([S])],attrs:se,decls:6,vars:4,consts:[[1,"content"],[1,"text-xl","title"],["lib-hero-baner","",1,"hero",3,"item"],[1,"skeleton"],["type","button",1,"secret-btn"]],template:function(t,i){if(t&1&&(r(0,"section",0)(1,"h1",1),p(2),o(),u(3,me,3,1,"div",2),g(4,"async"),u(5,pe,1,0,"section",3),o()),t&2){let I;m(2),_(i.title),m(),b((I=h(4,2,i.hero$))?3:5,I)}},dependencies:[J,M],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:100%;margin-top:1.75rem}.content[_ngcontent-%COMP%]{max-width:var(--content-width)}.title[_ngcontent-%COMP%]{margin:0;line-height:1;text-transform:uppercase}.secret-btn[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:12.25rem;max-width:100%;opacity:0;cursor:pointer}.hero[_ngcontent-%COMP%]{position:relative}.skeleton[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{max-width:var(--content-width);display:flex;flex-direction:column;width:100%;gap:1.25rem}"],changeDetection:0})}return e})();var le=e=>[e,"text-m"],de=["*"],ee=(()=>{class e{appearance=C("primary");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["lib-chip"],["","lib-chip",""]],hostVars:4,hostBindings:function(t,i){t&2&&B(q(2,le,i.appearance()))},inputs:{appearance:[1,"appearance"]},ngContentSelectors:de,decls:1,vars:0,template:function(t,i){t&1&&(P(),w(0))},styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;height:1.375rem;padding:0 .5rem;border-radius:.125rem;box-shadow:var(--shadow-chips);line-height:0;color:var(--text-color-alt-70)}.primary[_nghost-%COMP%]{background:var(--background-fancy-10)}.outline[_nghost-%COMP%]{border:1px solid var(--border-color-main-80);color:var(--text-color-main-25)}[_nghost-%COMP%]:disabled, [disabled][_nghost-%COMP%]{opacity:.5}"],changeDetection:0})}return e})();var te=new F("Format discount value",{factory:()=>e=>`-${e}%`});var ne=(()=>{class e{formatter=l(te);transform(n){return this.formatter(n)}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=H({name:"discount",type:e,pure:!0})}return e})();var fe=["price"];function ue(e,c){e&1&&(r(0,"span",6),p(1,"in cart"),o()),e&2&&s("appearance","outline")}function ge(e,c){e&1&&(r(0,"span",7),p(1,"owned"),o()),e&2&&s("appearance","outline")}function he(e,c){if(e&1&&(r(0,"span",9,1),p(2),g(3,"discount"),o()),e&2){let n=v(2);m(2),_(h(3,1,n.item().discount))}}function Ce(e,c){if(e&1&&(u(0,he,4,3,"span",9),r(1,"span",6,0),p(3),g(4,"currency"),o()),e&2){let n=v();b(n.item().discount?0:-1),m(),s("appearance","outline"),m(2),_(h(4,3,n.item().prise))}}function be(e,c){if(e&1){let n=$();r(0,"section",8)(1,"button",10),R("click",function(){j(n);let i=v();return E(i.addToCart())}),p(2," buy "),o()()}}var ie=(()=>{class e{price=G("price",{read:D});cartStateService=l(Y);item=C.required();isInCart=Q(()=>this.cartStateService.cartItems().some(n=>n.id===this.item().id));sicretAnimationStart(){console.log(this.price()),this.modify()}modify(){let n=this.price()[0].nativeElement.classList,t=Math.random()>.5;setTimeout(()=>{n.remove("increment"),n.remove("decrement")},1e3);let i="decrement";console.log(i),n.add(i)}addToCart(){this.cartStateService.addItem(this.item())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["lib-game-card"]],viewQuery:function(t,i){t&1&&V(i.price,fe,5,D),t&2&&K()},hostVars:1,hostBindings:function(t,i){t&2&&N("tabindex",0)},inputs:{item:[1,"item"]},decls:9,vars:7,consts:[["price",""],["discount",""],[1,"image",3,"libPictureLoader","width","height","alt"],[1,"text-l","title"],[1,"footer"],[1,"footer__block"],["lib-chip","",1,"price",3,"appearance"],["disabled","","lib-chip","",1,"price",3,"appearance"],[1,"backdrop"],["lib-chip","",1,"discount"],["type","button","lib-button","",1,"backdrop__btn",3,"click"]],template:function(t,i){t&1&&(d(0,"section",2),r(1,"h4",3),p(2),o(),r(3,"footer",4)(4,"section",5),u(5,ue,2,1,"span",6)(6,ge,2,1,"span",7)(7,Ce,5,5),o()(),u(8,be,3,0,"section",8)),t&2&&(s("libPictureLoader",i.item().imagesPath)("width",196)("height",100)("alt",i.item().name),m(2),U(" ",i.item().name,`
`),m(3),b(i.isInCart()?5:i.item().isOwned?6:7),m(3),b(!i.isInCart()&&!i.item().isOwned?8:-1))},dependencies:[k,ee,z,W,ne],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:12.25rem;flex-shrink:0;background-color:var(--background-card);box-shadow:var(--shadow-card)}[_nghost-%COMP%]:hover   .backdrop[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   .backdrop[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]:hover   .backdrop__btn[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   .backdrop__btn[_ngcontent-%COMP%]{transform:translateY(0)}.image[_ngcontent-%COMP%]{min-height:6.875rem;width:100%}.title[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:.688rem .688rem .375rem}.footer[_ngcontent-%COMP%]{margin:auto .375rem .438rem;display:flex;justify-content:end;gap:1rem}.footer__block[_ngcontent-%COMP%]{display:flex;gap:.375rem}.backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background-color:var(--background-card-backdrop);opacity:0;transition:opacity .3s}.backdrop__btn[_ngcontent-%COMP%]{transform:translateY(1rem);transition:transform .3s}.increment[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_kebab .5s reverse}.decrement[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_kebab .5s}@keyframes _ngcontent-%COMP%_kebab{0%{clip-path:polygon(2% 22%,0 0,99% 0,100% 100%,0 100%,3% 69%,5% 55%,16% 49%,5% 41%)}20%{clip-path:polygon(2% 20%,0 0,99% 0,100% 100%,0 100%,3% 73%,13% 60%,89% 51%,7% 35%)}40%{clip-path:polygon(11% 27%,0 0,99% 0,100% 100%,0 100%,6% 76%,15% 71%,100% 60%,100% 39%)}to{clip-path:polygon(28% 7%,0 0,100% 0,100% 100%,0 100%,15% 92%,35% 88%,100% 91%,100% 9%)}}"],changeDetection:0})}return e})();var oe=[{id:2,name:"Oddworld: stranger\u2019swrath",prise:9.99,discount:50,isOwned:!1,imagesPath:"assets/images/oddworld/img"},{id:3,name:"Chaos on deponia",prise:49.99,discount:10,isOwned:!0,imagesPath:"assets/images/chaos-on-deponia/img"},{id:4,name:"The settlers 2: gold edition",prise:5.99,discount:0,isOwned:!1,imagesPath:"assets/images/the-settlers-2/img"},{id:5,name:"Neverwinter nights",prise:9.99,discount:50,isOwned:!1,imagesPath:"assets/images/neverwinter/img"},{id:6,name:"Assassin\u2019s creed: director\u2019s cut",prise:9.99,discount:0,isOwned:!1,imagesPath:"assets/images/assassins-creed/img"}];var T=(()=>{class e{getProductsData(){return y(oe)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var _e=["lib-products-section",""],ye=(e,c)=>c.id;function xe(e,c){if(e&1&&d(0,"lib-game-card",0),e&2){let n=c.$implicit;s("item",n)}}var re=(()=>{class e{items$=l(T).getProductsData();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["","lib-products-section",""]],features:[O([T])],attrs:_e,decls:3,vars:2,consts:[[3,"item"]],template:function(t,i){t&1&&(A(0,xe,1,1,"lib-game-card",0,ye),g(2,"async")),t&2&&L(h(2,0,i.items$))},dependencies:[M,ie],styles:["[_nghost-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb-bg) transparent;display:flex;max-width:100%;gap:1.25rem;overflow:auto;scroll-snap-type:x mandatory}[_nghost-%COMP%]::-webkit-scrollbar{width:var(--scrollbar-width)}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:var(--scrollbar-thumb-width);background:var(--scrollbar-thumb-bg);background-clip:content-box;border:var(--scrollbar-thumb-border);border-radius:var(--scrollbar-thumb-border-radius)}lib-game-card[_ngcontent-%COMP%]{scroll-snap-align:none start;scroll-margin:0 0 0 2rem}"],changeDetection:0})}return e})();var Ht=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["lib-main"]],decls:2,vars:0,consts:[["lib-hero","",1,"block"],["lib-products-section","",1,"block"]],template:function(t,i){t&1&&d(0,"section",0)(1,"section",1)},dependencies:[Z,re],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem}.block[_ngcontent-%COMP%]{padding:0 1%;display:flex;margin-inline-start:auto;margin-inline-end:auto}"],changeDetection:0})}return e})();export{Ht as MainComponent};
