import{a as ee,c as B,d as te,e as I,f as ne}from"./chunk-EJV5VHWX.js";import{$ as O,$a as M,Da as $,Ga as r,Ja as N,Ka as h,Kb as H,L as W,N as w,Q as A,Qa as c,Ra as k,T as p,Ta as q,Ua as C,Wa as z,Xa as K,Ya as a,Za as o,_ as P,_a as d,ab as U,bb as x,cb as g,db as S,eb as D,fb as Q,gb as Y,hb as J,ib as l,jb as v,ka as u,kb as X,la as j,m as y,ma as V,mb as T,nb as Z,ob as b,pb as _,xa as L,ya as s,yb as F}from"./chunk-O66PNWFP.js";var fe=["skeleton"],ue=["lib-hero-baner",""],he=["*"],ie=(()=>{class e{block=$("skeleton",{read:j});banerWidth=V(1060);item=u.required();heroRatio=370/1060;ngOnInit(){this.banerWidth.set(this.block()?.nativeElement?.clientWidth)}onResize(){let n=this.block()?.nativeElement?.clientWidth||1060;this.banerWidth.set(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["","lib-hero-baner",""]],viewQuery:function(t,i){t&1&&Q(i.block,fe,5,j),t&2&&Y()},hostBindings:function(t,i){t&1&&x("resize",function(){return i.onResize()},!1,L)},inputs:{item:[1,"item"]},attrs:ue,ngContentSelectors:he,decls:3,vars:6,consts:[["skeleton",""],[1,"hero-banner",3,"libPictureLoader","width","height","alt"]],template:function(t,i){t&1&&(S(),a(0,"section",1,0),D(2),o()),t&2&&(k("height",(i.banerWidth()||1060)*i.heroRatio,"px"),c("libPictureLoader",i.item().imagesPath)("width",1060)("height",370)("alt",i.item().name))},dependencies:[I],styles:[".hero-banner[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:1.25rem;width:100%;min-height:1px}"],changeDetection:0})}return e})();var oe={id:1,name:"The Witcher Adventure Game",prise:49.99,discount:10,isOwned:!1,imagesPath:"assets/images/witcher/img"};var E=(()=>{class e{getHeroData(){return y(oe)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();var ge=["lib-hero",""];function Ce(e,m){if(e&1){let n=M();a(0,"div",3)(1,"button",5),x("click",function(){P(n);let i=g();return O(i.onPressSecretBtn())}),l(2," A secret button "),o()()}e&2&&c("item",m)}function be(e,m){if(e&1&&d(0,"section",6,0),e&2){let n=J(1),t=g();k("height",n.clientWidth*t.heroRatio,"px")}}var re=(()=>{class e{theme=p(ee);heroRatio=370/1060;title="Game of the week";hero$=p(E).getHeroData().pipe(W(5e3));onPressSecretBtn(){this.theme.toggleThem()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["","lib-hero",""]],features:[T([E])],attrs:ge,decls:6,vars:4,consts:[["skeleton",""],[1,"content"],[1,"text-xl","title"],["lib-hero-baner","",3,"item"],[1,"skeleton",3,"height"],["aria-label","A secret button","type","button",1,"secret-btn",3,"click"],[1,"skeleton"]],template:function(t,i){if(t&1&&(a(0,"section",1)(1,"h1",2),l(2),o(),h(3,Ce,3,1,"div",3),b(4,"async"),h(5,be,2,2,"section",4),o()),t&2){let G;s(2),v(i.title),s(),C((G=_(4,2,i.hero$))?3:5,G)}},dependencies:[ie,H],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:100%;margin-top:1.75rem}.content[_ngcontent-%COMP%]{max-width:var(--content-width)}.title[_ngcontent-%COMP%]{margin:0;line-height:1;text-transform:uppercase;color:var(--text-color-main-50)}.secret-btn[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:12.25rem;max-width:100%;opacity:0;cursor:pointer}.hero[_ngcontent-%COMP%]{position:relative}.skeleton[_ngcontent-%COMP%]{width:100%;min-height:1px}.content[_ngcontent-%COMP%]{max-width:var(--content-width);display:flex;flex-direction:column;width:100%;gap:1.25rem}"],changeDetection:0})}return e})();var _e=e=>[e,"text-m"],xe=["*"],ae=(()=>{class e{appearance=u("primary");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["lib-chip"],["","lib-chip",""]],hostVars:4,hostBindings:function(t,i){t&2&&q(Z(2,_e,i.appearance()))},inputs:{appearance:[1,"appearance"]},ngContentSelectors:xe,decls:1,vars:0,template:function(t,i){t&1&&(S(),D(0))},styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;height:1.375rem;padding:0 .5rem;border-radius:.125rem;box-shadow:var(--shadow-chips);line-height:0;color:var(--text-color-alt-70)}.primary[_nghost-%COMP%]{background:var(--background-fancy-10)}.outline[_nghost-%COMP%]{border:1px solid var(--border-color-main-80);color:var(--text-color-main-25)}[_nghost-%COMP%]:disabled, [disabled][_nghost-%COMP%]{opacity:.5}"],changeDetection:0})}return e})();var ce=new A("Format discount value",{factory:()=>e=>`-${e}%`});var se=(()=>{class e{formatter=p(ce);transform(n){return this.formatter(n)}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=N({name:"discount",type:e,pure:!0})}return e})();var ve=["lib-game-card-footer",""];function ye(e,m){e&1&&(a(0,"span",4),l(1,"in cart"),o()),e&2&&c("appearance","outline")}function we(e,m){e&1&&(a(0,"span",5),l(1,"owned"),o()),e&2&&c("appearance","outline")}function Pe(e,m){if(e&1&&(a(0,"span",6,1),l(2),b(3,"discount"),o()),e&2){let n=g(2);s(2),v(_(3,1,n.item().discount))}}function Oe(e,m){if(e&1&&(h(0,Pe,4,3,"span",6),a(1,"span",4,0),l(3),b(4,"currency"),o()),e&2){let n=g();C(n.item().discount?0:-1),s(),c("appearance","outline"),s(2),v(_(4,3,n.item().prise))}}var me=(()=>{class e{cartStateService=p(B);item=u.required();isInCart=F(()=>this.cartStateService.cartItems().some(n=>n.id===this.item().id));static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["","lib-game-card-footer",""]],inputs:{item:[1,"item"]},attrs:ve,decls:5,vars:1,consts:[["price",""],["discount",""],[1,"footer"],[1,"footer__block"],["lib-chip","",1,"price",3,"appearance"],["disabled","","lib-chip","",1,"price",3,"appearance"],["lib-chip","",1,"discount"]],template:function(t,i){t&1&&(a(0,"footer",2)(1,"section",3),h(2,ye,2,1,"span",4)(3,we,2,1,"span",5)(4,Oe,5,5),o()()),t&2&&(s(2),C(i.isInCart()?2:i.item().isOwned?3:4))},dependencies:[ae,te,se],styles:[".footer[_ngcontent-%COMP%]{margin:auto .375rem .438rem;display:flex;justify-content:end;gap:1rem}.footer__block[_ngcontent-%COMP%]{display:flex;gap:.375rem}"],changeDetection:0})}return e})();function ke(e,m){if(e&1){let n=M();a(0,"section",3)(1,"button",4),x("click",function(){P(n);let i=g();return O(i.addToCart())}),l(2," buy "),o()()}}var pe=(()=>{class e{cartStateService=p(B);item=u.required();isShowBackdrop=F(()=>!this.item().isOwned&&!this.cartStateService.cartItems().some(n=>n.id===this.item().id));addToCart(){this.cartStateService.addItem(this.item())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["lib-game-card"]],hostVars:1,hostBindings:function(t,i){t&2&&U("tabindex",0)},inputs:{item:[1,"item"]},decls:5,vars:7,consts:[[1,"image",3,"libPictureLoader","width","height","alt"],[1,"text-l","title"],["lib-game-card-footer","",3,"item"],[1,"backdrop"],["aria-label","Add to cart","type","button","lib-button","",1,"backdrop__btn",3,"click"]],template:function(t,i){t&1&&(d(0,"section",0),a(1,"h2",1),l(2),o(),d(3,"footer",2),h(4,ke,3,0,"section",3)),t&2&&(c("libPictureLoader",i.item().imagesPath)("width",196)("height",100)("alt",i.item().name),s(2),X(" ",i.item().name,`
`),s(),c("item",i.item()),s(),C(i.isShowBackdrop()?4:-1))},dependencies:[I,ne,me],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:12.25rem;flex-shrink:0;background-color:var(--background-card);box-shadow:var(--shadow-card)}[_nghost-%COMP%]:hover   .backdrop[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   .backdrop[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]:hover   .backdrop__btn[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   .backdrop__btn[_ngcontent-%COMP%]{transform:translateY(0)}.image[_ngcontent-%COMP%]{min-height:6.875rem;width:100%}.title[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin:.688rem .688rem .375rem;color:var(--text-color-main-75)}.backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background-color:var(--background-card-backdrop);opacity:0;transition:opacity .3s}.backdrop__btn[_ngcontent-%COMP%]{transform:translateY(1rem);transition:transform .3s}"],changeDetection:0})}return e})();var le=[{id:2,name:"Oddworld: stranger\u2019swrath",prise:9.99,discount:50,isOwned:!1,imagesPath:"assets/images/oddworld/img"},{id:3,name:"Chaos on deponia",prise:49.99,discount:10,isOwned:!0,imagesPath:"assets/images/chaos-on-deponia/img"},{id:4,name:"The settlers 2: gold edition",prise:5.99,discount:0,isOwned:!1,imagesPath:"assets/images/the-settlers-2/img"},{id:5,name:"Neverwinter nights",prise:9.99,discount:50,isOwned:!1,imagesPath:"assets/images/neverwinter/img"},{id:6,name:"Assassin\u2019s creed: director\u2019s cut",prise:9.99,discount:0,isOwned:!1,imagesPath:"assets/images/assassins-creed/img"}];var R=(()=>{class e{getProductsData(){return y(le)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=w({token:e,factory:e.\u0275fac})}return e})();var Me=["lib-products-section",""],Se=(e,m)=>m.id;function De(e,m){if(e&1&&d(0,"lib-game-card",0),e&2){let n=m.$implicit;c("item",n)}}var de=(()=>{class e{items$=p(R).getProductsData();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["","lib-products-section",""]],features:[T([R])],attrs:Me,decls:3,vars:2,consts:[[3,"item"]],template:function(t,i){t&1&&(z(0,De,1,1,"lib-game-card",0,Se),b(2,"async")),t&2&&K(_(2,0,i.items$))},dependencies:[H,pe],styles:["[_nghost-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb-bg) transparent;display:flex;max-width:100%;gap:1.25rem;overflow:auto;scroll-snap-type:x mandatory}[_nghost-%COMP%]::-webkit-scrollbar{width:var(--scrollbar-width)}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:var(--scrollbar-thumb-width);background:var(--scrollbar-thumb-bg);background-clip:content-box;border:var(--scrollbar-thumb-border);border-radius:var(--scrollbar-thumb-border-radius)}lib-game-card[_ngcontent-%COMP%]{scroll-snap-align:none start;scroll-margin:0 0 0 2rem}"],changeDetection:0})}return e})();var Zt=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["lib-main"]],decls:2,vars:0,consts:[["lib-hero","",1,"block"],["lib-products-section","",1,"block"]],template:function(t,i){t&1&&d(0,"section",0)(1,"section",1)},dependencies:[re,de],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem}.block[_ngcontent-%COMP%]{padding:0 1%;display:flex;margin-inline-start:auto;margin-inline-end:auto}"],changeDetection:0})}return e})();export{Zt as MainComponent};
