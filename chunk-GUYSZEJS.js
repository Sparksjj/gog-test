import{Fa as u,Ha as T,Ia as I,M as a,P as c,S as i,bb as g,cb as y,i as f,ja as n,ka as d,la as m,ua as l,vb as C,wb as v,yb as h}from"./chunk-3M43YUL4.js";var _=(()=>{class e{get theme(){return this._theme.asReadonly()}_theme=m("light");_document=i(h);toggleTheme(){this._theme.set(this.theme()==="dark"?"light":"dark"),this.startThemToggleAnimation()}startThemToggleAnimation(){this._document.startViewTransition?this._document.startViewTransition(this.applyThemeToRoot.bind(this)):this.applyThemeToRoot()}applyThemeToRoot(){let t=this._theme(),r=this._document.documentElement;r.classList.remove("dark","light"),t&&r.classList.add(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var N=["libThemeAnimation",""],b=["*"],U=(()=>{class e{document=i(h);theme=i(_).theme;previosTheme=this.theme();constructor(){v(()=>{let t=this.theme();this.previosTheme!==t&&this.startAnimation(),this.previosTheme=t})}startAnimation(){let t=this.document.documentElement;t&&(t.classList.add("theme-animation"),setTimeout(()=>{t.classList.remove("theme-animation")},800))}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=u({type:e,selectors:[["","libThemeAnimation",""]],attrs:N,ngContentSelectors:b,decls:1,vars:0,template:function(r,o){r&1&&(g(),y(0))},encapsulation:2,changeDetection:0})}return e})();var H=(()=>{class e{get isNeedToSync$(){return this._isNeedToSync$.asObservable()}get cartItems(){return this._cartItems.asReadonly()}cartItemsCount=C(()=>this.cartItems().length);_cartItems=m([]);_isNeedToSync$=new f;resetCart(t,r=!0){this._cartItems.set(t),this.checkIsNeedToSync(r)}addItem(t,r=!0){let o=this.cartItems();this.hasItem(t)||(this._cartItems.set([...o,t]),this.checkIsNeedToSync(r))}removeItem(t,r=!0){let o=this.cartItems().filter(s=>s.id!==t.id);this._cartItems.set(o),this.checkIsNeedToSync(r)}clearCart(t=!0){this._cartItems.set([]),this.checkIsNeedToSync(t)}hasItem(t){return this._cartItems().some(r=>r.id===t.id)}checkIsNeedToSync(t){t&&this._isNeedToSync$.next(!0)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var w=new c("Config for PictureLoaderDirective",{factory:()=>({formats:["avif","webp","png"]})});var ot=(()=>{class e{config=i(w);path=n.required({alias:"libPictureLoader"});alt=n.required();width=n.required();height=n.required();formats=n(this.config.formats);get defaultFormat(){return this.formats()[this.formats().length-1]}el=i(d);constructor(){l(()=>{this.createPicture()})}createPicture(){let t=document.createElement("picture");this.formats().forEach(o=>{let s=document.createElement("source");s.srcset=`${this.path()}.${o}`,s.type=`image/${o}`,t.appendChild(s)});let r=document.createElement("img");r.src=`${this.path()}.${this.defaultFormat}`,r.alt=this.alt(),r.width=this.width(),r.height=this.height(),t.appendChild(r),this.el.nativeElement.appendChild(t)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=T({type:e,selectors:[["","libPictureLoader",""],["lib-picture-loader"]],inputs:{path:[1,"libPictureLoader","path"],alt:[1,"alt"],width:[1,"width"],height:[1,"height"],formats:[1,"formats"]}})}return e})();var R=new c("Currency symbol",{factory:()=>"$"}),E=new c("Format currency value",{factory:()=>{let e=i(R);return x=>`${e}${x}`}});var ut=(()=>{class e{formatter=i(E);transform(t){return this.formatter(t)}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=I({name:"currency",type:e,pure:!0})}return e})();export{_ as a,U as b,H as c,ut as d,ot as e};
