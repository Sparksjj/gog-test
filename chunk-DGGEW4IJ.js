import{d as st,f as lt}from"./chunk-O7LPEZ5U.js";import{b as mt,c as u,d as pt,e as dt}from"./chunk-GUYSZEJS.js";import{$ as z,$a as f,Fa as c,Ha as J,I as H,Ia as W,Ib as at,J as q,Ja as v,Lb as ct,M as B,P as A,Pa as h,Ra as C,S as a,Sa as K,Ta as b,Ua as Q,Va as X,Wa as Y,X as N,Xa as r,Ya as i,Z as S,Za as l,_ as w,_a as O,aa as U,ab as y,bb as tt,cb as et,da as Z,f as F,fb as m,gb as _,hb as nt,ia as G,ib as ot,ja as M,jb as it,ka as P,la as d,lb as x,m as k,mb as D,nb as rt,pa as $,ub as E,vb as T,wb as j,xa as s,z as V}from"./chunk-3M43YUL4.js";var Mt=["lib-content",""],ut=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["","lib-content",""]],attrs:Mt,decls:1,vars:0,consts:[["libThemeAnimation",""]],template:function(e,o){e&1&&l(0,"router-outlet",0)},dependencies:[lt,st,mt],styles:["[_nghost-%COMP%]{flex:1;background:var(--background-main);padding-bottom:2rem}"],changeDetection:0})}return t})();var ft=(()=>{class t{showCart=M.required();cartItemsCount=a(u).cartItemsCount;filled=d(this.cartItemsCount()>0);animated=d(this.cartItemsCount()>0);timeoutId;previousState={count:this.cartItemsCount()};constructor(){j(()=>{let n=this.cartItemsCount(),e=this.showCart();!e&&n>this.previousState.count?(this.filled.set(!0),this.animated.set(!0),this.scheduleRestartAnimation()):e&&this.filled.set(!1),this.previousState.count=n})}ngOnDestroy(){this.timeoutId&&clearTimeout(this.timeoutId)}scheduleRestartAnimation(){this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{E(()=>{this.animated.set(!1)})},600)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["lib-cart-icon"]],inputs:{showCart:[1,"showCart"]},decls:4,vars:5,consts:[["width","17","height","15","viewBox","0 0 17 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["opacity","0.851","fill-rule","evenodd","clip-rule","evenodd","d","M16.52 1.577L14.97 1.515L12.841 10.285L12.363 11.009H3.11399L2.75199 10.285L0.937988 2.886L2.67699 2.778L4.37299 9.499H11.139L13.456 0.529L14.442 0L16.969 0.032L16.52 1.577ZM5.31299 7.625V7.25H10.437V7.625H5.31299ZM4.99999 5.219H10.875V5.594H4.99999V5.219ZM4.24999 3.188H11.437V3.563H4.24999V3.188ZM4.78799 12.035C5.60299 12.035 6.26299 12.698 6.26299 13.517C6.26299 14.336 5.60299 15 4.78799 15C3.97399 15 3.31399 14.336 3.31399 13.517C3.31399 12.698 3.97399 12.035 4.78799 12.035ZM10.93 12.035C11.744 12.035 12.404 12.698 12.404 13.517C12.404 14.336 11.744 15 10.93 15C10.115 15 9.45499 14.336 9.45499 13.517C9.45499 12.698 10.115 12.035 10.93 12.035Z","fill","#262626",1,"cart-icon"],["animation","none",1,"count","text-m"]],template:function(e,o){e&1&&(z(),r(0,"svg",0),l(1,"path",1),i(),U(),r(2,"span",2),m(3),i()),e&2&&(s(2),C("animated",o.animated())("filled",o.filled()),s(),nt(" ",o.cartItemsCount(),`
`))},styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}.cart-icon[_ngcontent-%COMP%]{fill:var(--text-color-main-75)}.count[_ngcontent-%COMP%]{position:relative;top:1px;right:1px;display:flex;align-items:center;height:13px;border-radius:2px;padding:0 3px;line-height:1;color:var(--text-color-main-75)}.count.filled[_ngcontent-%COMP%]{background:#6c36ad;color:var(--text-color-alt-100);font-weight:400}.count.animated[_ngcontent-%COMP%]:after{content:"";opacity:0;position:absolute;inset:0;outline:5px solid #b65ae2;border-radius:100%;animation-name:_ngcontent-%COMP%_ripple;animation-duration:.5s;animation-delay:0s;animation-iteration-count:1;animation-timing-function:cubic-bezier(.65,0,.34,1);z-index:-1}.count.animated[_ngcontent-%COMP%]:before{content:"";opacity:0;position:absolute;inset:0;outline:5px solid #b65ae2;border-radius:100%;animation-name:_ngcontent-%COMP%_ripple;animation-duration:.5s;animation-delay:.2s;animation-iteration-count:1;animation-timing-function:cubic-bezier(.65,0,.34,1);z-index:-1}@keyframes _ngcontent-%COMP%_ripple{0%{opacity:1;transform:scale3d(.75,.75,1)}to{opacity:0;transform:scale3d(1.5,1.5,1)}}'],changeDetection:0})}return t})();var Pt=["lib-cart-item",""],gt=(()=>{class t{cartStateService=a(u);el=a(P);deleting=d(!1);item=M.required();removeItem(){this.el.nativeElement.addEventListener("transitionend",()=>{this.cartStateService.removeItem(this.item())}),this.deleting.set(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["","lib-cart-item",""]],hostAttrs:["tabIndex","0"],hostVars:2,hostBindings:function(e,o){e&2&&C("deleting",o.deleting())},inputs:{item:[1,"item"]},attrs:Pt,decls:9,vars:8,consts:[[1,"image",3,"libPictureLoader","width","height","alt"],[1,"info"],[1,"info__title","text-l"],["aria-label","Remove from cart","type","button","tabindex","0",1,"info__btn","text-sm",3,"click"],[1,"text-l"]],template:function(e,o){e&1&&(l(0,"div",0),r(1,"section",1)(2,"h4",2),m(3),i(),r(4,"button",3),f("click",function(){return o.removeItem()}),m(5," Remove "),i()(),r(6,"span",4),m(7),x(8,"currency"),i()),e&2&&(h("libPictureLoader",o.item().imagesPath)("width",100)("height",60)("alt",o.item().name),s(3),_(o.item().name),s(4),_(D(8,6,o.item().price)))},dependencies:[dt,pt],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.625rem;border-top:1px solid var(--border-color-main-100);color:var(--text-color-main-75);max-height:6.25rem}[_nghost-%COMP%]:hover   .info__btn[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   .info__btn[_ngcontent-%COMP%]{opacity:1;max-height:1rem}.deleting[_nghost-%COMP%]{overflow:hidden;opacity:0;max-height:0;padding:0;transform:translate(-1em);transition:padding-top .3s ease-out,padding-bottom .3s ease-out,opacity .3s ease-out,max-height .3s ease-out,transform .3s ease-out}.image[_ngcontent-%COMP%]{width:6.25rem}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex:1;text-transform:uppercase;min-width:1px;gap:.375rem}.info__title[_ngcontent-%COMP%]{width:100%;min-width:1px;margin:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:1.22}.info__btn[_ngcontent-%COMP%]{margin:0;padding:0;background:none;border-radius:2px;border:none;outline:none;text-decoration:underline;cursor:pointer;color:var(--text-color-main-75);line-height:1.1;opacity:0;max-height:0;transition:max-height .25s,opacity .25s}.info__btn[_ngcontent-%COMP%]:focus-within{box-shadow:var(--shadow-btn)}"],changeDetection:0})}return t})();var Ot=["lib-button",""],Dt=["*"],Ct=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["","lib-button",""]],hostVars:2,hostBindings:function(e,o){e&2&&K("text-l")},attrs:Ot,ngContentSelectors:Dt,decls:1,vars:0,template:function(e,o){e&1&&(tt(),et(0))},styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;width:auto;min-width:8rem;height:2.688rem;margin:0;padding:0 1rem;background:var(--gradient-btn);color:var(--text-color-alt-100);text-transform:uppercase;cursor:pointer;position:relative}[_nghost-%COMP%]:after{content:"";position:absolute;inset:0;opacity:0;box-shadow:var(--shadow-btn);transition:opacity .3s}[_nghost-%COMP%]:hover:after, [_nghost-%COMP%]:focus:after{opacity:1}[_nghost-%COMP%]:disabled{opacity:.5;cursor:not-allowed}'],changeDetection:0})}return t})();var ht=(()=>{class t{transform(n,e){return e===1?n:n+"s"}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=W({name:"wordEnding",type:t,pure:!0})}return t})();var It=["lib-cart-sumary",""];function kt(t,g){if(t&1&&(r(0,"h3",1),m(1),x(2,"wordEnding"),i(),r(3,"span",3),m(4),x(5,"currency"),i()),t&2){let n=y();s(),ot(" ",n.cartItemsCount()," ",rt(2,3,"item",n.cartItemsCount())," in cart "),s(3),_(D(5,6,n.totalPrice()))}}function Et(t,g){t&1&&(r(0,"h3",1),m(1,"No items in the cart"),i())}function Tt(t,g){if(t&1){let n=O();r(0,"button",4),f("click",function(){S(n);let o=y();return w(o.onClearCart())}),m(1," Clear cart "),i()}}var vt=(()=>{class t{cartStateService=a(u);clearCart=G();cartItemsCount=this.cartStateService.cartItemsCount;totalPrice=T(()=>this.cartStateService.cartItems().reduce((n,e)=>n+(e.price??0),0));onClearCart(){this.clearCart.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["","lib-cart-sumary",""]],outputs:{clearCart:"clearCart"},attrs:It,decls:4,vars:2,consts:[[1,"info"],[1,"info__title","text-xl"],["aria-label","Clear cart","type","button","lib-button","",1,"clear"],[1,"info__price","text-xl"],["aria-label","Clear cart","type","button","lib-button","",1,"clear",3,"click"]],template:function(e,o){e&1&&(r(0,"section",0),v(1,kt,6,8)(2,Et,2,0,"h3",1),i(),v(3,Tt,2,0,"button",2)),e&2&&(s(),b(o.cartItemsCount()?1:2),s(2),b(o.cartItemsCount()?3:-1))},dependencies:[Ct,at,ht],styles:["[_nghost-%COMP%]{display:flex;min-height:3.94rem;justify-content:space-between;align-items:center;gap:.5rem;padding:.625rem}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;gap:.5rem;text-transform:uppercase;color:var(--text-color-main-100)}.info__title[_ngcontent-%COMP%]{margin:0}.clear[_ngcontent-%COMP%]{min-width:8.25rem}"],changeDetection:0})}return t})();function jt(t,g){if(t&1&&l(0,"li",2),t&2){let n=g.$implicit;h("item",n)}}var bt=(()=>{class t{cartStateService=a(u);el=a(P);items=this.cartStateService.cartItems;deleting=d(!1);get itemsInCartHtmlEl(){return this.el.nativeElement.querySelector("#items-in-cart")}clearFunction=(()=>{this.cartStateService.clearCart(),this.itemsInCartHtmlEl?.removeEventListener("transitionend",this.clearFunction),this.deleting.set(!1)}).bind(this);clearCart(){this.itemsInCartHtmlEl?.addEventListener("transitionend",this.clearFunction),this.deleting.set(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["lib-cart-popover"]],decls:4,vars:2,consts:[["lib-cart-sumary","",3,"clearCart"],["id","items-in-cart"],["lib-cart-item","",1,"cart-item",3,"item"]],template:function(e,o){e&1&&(r(0,"header",0),f("clearCart",function(){return o.clearCart()}),i(),r(1,"ul",1),X(2,jt,1,1,"li",2,Q),i()),e&2&&(s(),C("deleting",o.deleting()),s(),Y(o.items()))},dependencies:[vt,gt],styles:["[_nghost-%COMP%]{position:absolute;top:100%;right:0;width:23.125rem;background:var(--background-alt);border-right:1px solid var(--border-color-main-100)}.cart-item[_ngcontent-%COMP%]{opacity:1;transition:opacity .2s ease-out,transform .5s ease-out}@starting-style{.cart-item[_ngcontent-%COMP%]{opacity:0;transform:translate(-1rem)}}#items-in-cart[_ngcontent-%COMP%]{opacity:1}#items-in-cart.deleting[_ngcontent-%COMP%]{transform:translate(-1em);transition:transform .3s ease-out}#items-in-cart.deleting[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{max-height:0;padding:0;opacity:0;transition:opacity .2s ease-out,max-height .3s ease-out,padding-top .3s ease-out,padding-bottom .3s ease-out}"],changeDetection:0})}return t})();var Lt=["lib-cart",""];function Rt(t,g){if(t&1){let n=O();l(0,"lib-cart-popover"),r(1,"div",2),f("click",function(){S(n);let o=y();return w(o.toggleCart())}),i()}}var yt=(()=>{class t{showCart=d(!1);toggleCart(){this.showCart.update(n=>!n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["","lib-cart",""]],attrs:Lt,decls:3,vars:4,consts:[["type","button","tabindex","0","aria-label","Open cart",1,"card-btn",3,"click"],[3,"showCart"],[1,"backdrop",3,"click"]],template:function(e,o){e&1&&(r(0,"button",0),f("click",function(){return o.toggleCart()}),l(1,"lib-cart-icon",1),i(),v(2,Rt,2,0)),e&2&&(C("active",o.showCart()),s(),h("showCart",o.showCart()),s(),b(o.showCart()?2:-1))},dependencies:[ft,bt],styles:[".cart-count[_ngcontent-%COMP%]{fill:var(--text-color-main-75)}lib-cart-popover[_ngcontent-%COMP%]{z-index:2;transition-property:opacity,transform;transition-duration:.3s}@starting-style{lib-cart-popover[_ngcontent-%COMP%]{opacity:0;transform:translate(-1rem,-1rem)}}.backdrop[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:.3s}@starting-style{.backdrop[_ngcontent-%COMP%]{opacity:0}}.card-btn[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;margin:0;padding:0;z-index:2;background:transparent;border:none;cursor:pointer;border-left:1px solid transparent;border-right:1px solid transparent;transition:background-color .2s,border-color .2s}.card-btn[_ngcontent-%COMP%]:hover, .card-btn.active[_ngcontent-%COMP%]{background-color:var(--background-alt);border-color:var(--border-color-main-100)}.backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--gradient-main-bg)}"],changeDetection:0})}return t})();var _t={length:0,clear:()=>{},getItem:t=>null,key:t=>null,removeItem:t=>{},setItem:(t,g)=>{}};var xt=new A("Local Storage",{factory:()=>{let t=a($);return ct(t)?_t:localStorage}});var I=(()=>{class t{storage=a(xt);getItems(){let n=[];try{n=JSON.parse(this.storage.getItem("cart")||"[]")}catch(e){console.error("Error parsing cart data from localStorage",e)}return k(n)}saveItems(n){try{this.storage.setItem("cart",JSON.stringify(n))}catch(e){console.error("Error saving cart data to localStorage",e)}return k()}static \u0275fac=function(e){return new(e||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function L(t){t||(N(L),t=a(Z));let g=new F(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(q(g))}var St=(()=>{class t{cartStateService=a(u);cartDataService=a(I);constructor(){this.cartStateService.isNeedToSync$.pipe(L(),V(500),H(()=>this.cartDataService.saveItems(this.cartStateService.cartItems()))).subscribe()}ngOnInit(){this.getCartItems()}getCartItems(){this.cartDataService.getItems().subscribe(n=>{this.cartStateService.resetCart(n,!1)})}static \u0275fac=function(e){return new(e||t)};static \u0275dir=J({type:t,selectors:[["","lib-cart-data-sync",""]]})}return t})();var Ft=["lib-nav",""],wt=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["","lib-nav",""]],features:[it([I])],attrs:Ft,decls:4,vars:0,consts:[[1,"content"],["href","https://www.gog.com","target","_blank",1,"logo"],["width","43","height","37","src","assets/images/logo.svg","alt","GoG Logo"],["lib-cart-data-sync","","lib-cart","",1,"nav-card"]],template:function(e,o){e&1&&(r(0,"section",0)(1,"a",1),l(2,"img",2),i(),l(3,"section",3),i())},dependencies:[yt,St],styles:["[_nghost-%COMP%]{padding:0 1%;position:sticky;display:flex;justify-content:center;top:0;height:3.688rem;background:var(--gradient-nav);z-index:2}.content[_ngcontent-%COMP%]{max-width:var(--content-width);position:relative;display:flex;align-items:center;justify-content:space-between;flex:1}.nav-card[_ngcontent-%COMP%]{min-width:3.625rem;height:100%}"],changeDetection:0})}return t})();var hn=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["lib-shell"]],decls:2,vars:0,consts:[["lib-nav",""],["lib-content",""]],template:function(e,o){e&1&&l(0,"nav",0)(1,"main",1)},dependencies:[wt,ut],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}"],changeDetection:0})}return t})();export{hn as ShellComponent};
